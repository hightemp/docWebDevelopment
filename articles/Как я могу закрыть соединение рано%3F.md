# Как я могу закрыть соединение рано?
You can use Fast-CGI with PHP-FPM to use the [ `fastcgi_end_request()` function](http://php-fpm.org/wiki/Features#fastcgi_finish_request.28.29) . In this way, you can continue to do some processing while the response has already been sent to the client.

*    [example of how to use fastcgi\_finish\_request() (Nov 2010)](https://stackoverflow.com/q/4236040/367456) 

You find this in the PHP manual here: [FastCGI Process Manager (FPM)](http://php.net/manual/install.fpm.php) ; But that function specifically is not further documented in the manual. Here the excerpt from the [PHP-FPM: PHP FastCGI Process Manager Wiki](http://php-fpm.org/wiki/Main_Page) :

* * *

## fastcgi\_finish\_request()

Scope: php function Category: Optimization

This feature allows you to speed up implementation of some php queries. Acceleration is possible when there are actions in the process of script execution that do not affect server response. For example, saving the session in memcached can occur after the page has been formed and passed to a web server. `fastcgi_finish_request()` is a php feature, that stops the response output. Web server immediately starts to transfer response "slowly and sadly" to the client, and php at the same time can do a lot of useful things in the context of a query, such as saving the session, converting the downloaded video, handling all kinds of statistics, etc.

 `fastcgi_finish_request()` can invoke executing shutdown function.